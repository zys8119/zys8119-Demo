import{u as Z,I as ee,J as te,K as ne,r as E,H as X,h as U,E as oe,j as re,w as A,L as se,M as ie,N as le,g as j,O as F,s as ae}from"./index-bfc7e514.js";function $(e){return ie()?(le(e),!0):!1}function T(e){return typeof e=="function"?e():Z(e)}const N=typeof window<"u",D=()=>{};function q(e,n){function o(...t){return new Promise((s,f)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(s).catch(f)})}return o}function ue(e,n={}){let o,t,s=D;const f=i=>{clearTimeout(i),s(),s=D};return i=>{const l=T(e),a=T(n.maxWait);return o&&f(o),l<=0||a!==void 0&&a<=0?(t&&(f(t),t=null),Promise.resolve(i())):new Promise((u,c)=>{s=n.rejectOnCancel?c:u,a&&!t&&(t=setTimeout(()=>{o&&f(o),t=null,u(i())},a)),o=setTimeout(()=>{t&&f(t),t=null,u(i())},l)})}}function ce(e,n=!0,o=!0,t=!1){let s=0,f,r=!0,i=D,l;const a=()=>{f&&(clearTimeout(f),f=void 0,i(),i=D)};return c=>{const m=T(e),y=Date.now()-s,O=()=>l=c();return a(),m<=0?(s=Date.now(),O()):(y>m&&(o||!r)?(s=Date.now(),O()):n&&(l=new Promise((v,d)=>{i=t?d:v,f=setTimeout(()=>{s=Date.now(),r=!0,v(O()),a()},Math.max(0,m-y))})),!o&&!f&&(f=setTimeout(()=>r=!0,m)),r=!1,l)}}function J(...e){if(e.length!==1)return ee(...e);const n=e[0];return typeof n=="function"?te(ne(()=>({get:n,set:D}))):E(n)}function fe(e,n=200,o={}){return q(ue(n,o),e)}function de(e,n=200,o=!1,t=!0,s=!1){return q(ce(n,o,t,s),e)}function Q(e,n=!0){X()?U(e):n?e():oe(e)}function ve(e){X()&&se(e)}function me(e,n=1e3,o={}){const{immediate:t=!0,immediateCallback:s=!1}=o;let f=null;const r=E(!1);function i(){f&&(clearInterval(f),f=null)}function l(){r.value=!1,i()}function a(){const u=T(n);u<=0||(r.value=!0,s&&e(),i(),f=setInterval(e,u))}if(t&&N&&a(),re(n)||typeof n=="function"){const u=A(n,()=>{r.value&&N&&a()});$(u)}return $(l),{isActive:r,pause:l,resume:a}}function I(e){var n;const o=T(e);return(n=o==null?void 0:o.$el)!=null?n:o}const W=N?window:void 0,pe=N?window.document:void 0;function P(...e){let n,o,t,s;if(typeof e[0]=="string"||Array.isArray(e[0])?([o,t,s]=e,n=W):[n,o,t,s]=e,!n)return D;Array.isArray(o)||(o=[o]),Array.isArray(t)||(t=[t]);const f=[],r=()=>{f.forEach(u=>u()),f.length=0},i=(u,c,m,y)=>(u.addEventListener(c,m,y),()=>u.removeEventListener(c,m,y)),l=A(()=>[I(n),T(s)],([u,c])=>{r(),u&&f.push(...o.flatMap(m=>t.map(y=>i(u,m,y,c))))},{immediate:!0,flush:"post"}),a=()=>{l(),r()};return $(a),a}function he(){const e=E(!1);return X()&&U(()=>{e.value=!0}),e}function B(e){const n=he();return j(()=>(n.value,!!e()))}function ye(e,n={}){const{window:o=W}=n,t=B(()=>o&&"matchMedia"in o&&typeof o.matchMedia=="function");let s;const f=E(!1),r=()=>{s&&("removeEventListener"in s?s.removeEventListener("change",i):s.removeListener(i))},i=()=>{t.value&&(r(),s=o.matchMedia(J(e).value),f.value=!!(s!=null&&s.matches),s&&("addEventListener"in s?s.addEventListener("change",i):s.addListener(i)))};return ae(i),$(()=>r()),f}var k=Object.getOwnPropertySymbols,be=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,ge=(e,n)=>{var o={};for(var t in e)be.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&k)for(var t of k(e))n.indexOf(t)<0&&we.call(e,t)&&(o[t]=e[t]);return o};function Ee(e,n,o={}){const t=o,{window:s=W}=t,f=ge(t,["window"]);let r;const i=B(()=>s&&"MutationObserver"in s),l=()=>{r&&(r.disconnect(),r=void 0)},a=A(()=>I(e),c=>{l(),i.value&&s&&c&&(r=new MutationObserver(n),r.observe(c,f))},{immediate:!0}),u=()=>{l(),a()};return $(u),{isSupported:i,stop:u}}function Le(e,n,o={}){const{window:t=W,initialValue:s="",observe:f=!1}=o,r=E(s),i=j(()=>{var a;return I(n)||((a=t==null?void 0:t.document)==null?void 0:a.documentElement)});function l(){var a;const u=T(e),c=T(i);if(c&&t){const m=(a=t.getComputedStyle(c).getPropertyValue(u))==null?void 0:a.trim();r.value=m||s}}return f&&Ee(i,l,{attributes:!0,window:t}),A([i,()=>T(e)],l,{immediate:!0}),A(r,a=>{var u;(u=i.value)!=null&&u.style&&i.value.style.setProperty(T(e),a)}),r}var z=Object.getOwnPropertySymbols,Oe=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,_e=(e,n)=>{var o={};for(var t in e)Oe.call(e,t)&&n.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&z)for(var t of z(e))n.indexOf(t)<0&&Se.call(e,t)&&(o[t]=e[t]);return o};function xe(e,n,o={}){const t=o,{window:s=W}=t,f=_e(t,["window"]);let r;const i=B(()=>s&&"ResizeObserver"in s),l=()=>{r&&(r.disconnect(),r=void 0)},a=j(()=>Array.isArray(e)?e.map(m=>I(m)):[I(e)]),u=A(a,m=>{if(l(),i.value&&s){r=new ResizeObserver(n);for(const y of m)y&&r.observe(y,f)}},{immediate:!0,flush:"post",deep:!0}),c=()=>{l(),u()};return $(c),{isSupported:i,stop:c}}function Ce(e,n={width:0,height:0},o={}){const{window:t=W,box:s="content-box"}=o,f=j(()=>{var l,a;return(a=(l=I(e))==null?void 0:l.namespaceURI)==null?void 0:a.includes("svg")}),r=E(n.width),i=E(n.height);return xe(e,([l])=>{const a=s==="border-box"?l.borderBoxSize:s==="content-box"?l.contentBoxSize:l.devicePixelContentBoxSize;if(t&&f.value){const u=I(e);if(u){const c=t.getComputedStyle(u);r.value=parseFloat(c.width),i.value=parseFloat(c.height)}}else if(a){const u=Array.isArray(a)?a:[a];r.value=u.reduce((c,{inlineSize:m})=>c+m,0),i.value=u.reduce((c,{blockSize:m})=>c+m,0)}else r.value=l.contentRect.width,i.value=l.contentRect.height},o),A(()=>I(e),l=>{r.value=l?n.width:0,i.value=l?n.height:0}),{width:r,height:i}}const G=1;function Ae(e,n={}){const{throttle:o=0,idle:t=200,onStop:s=D,onScroll:f=D,offset:r={left:0,right:0,top:0,bottom:0},eventListenerOptions:i={capture:!1,passive:!0},behavior:l="auto"}=n,a=E(0),u=E(0),c=j({get(){return a.value},set(p){y(p,void 0)}}),m=j({get(){return u.value},set(p){y(void 0,p)}});function y(p,w){var h,M,g;const x=T(e);x&&((g=x instanceof Document?document.body:x)==null||g.scrollTo({top:(h=T(w))!=null?h:m.value,left:(M=T(p))!=null?M:c.value,behavior:T(l)}))}const O=E(!1),v=F({left:!0,right:!1,top:!0,bottom:!1}),d=F({left:!1,right:!1,top:!1,bottom:!1}),b=p=>{O.value&&(O.value=!1,d.left=!1,d.right=!1,d.top=!1,d.bottom=!1,s(p))},S=fe(b,o+t),_=p=>{const w=p===document?p.documentElement:p,{display:h,flexDirection:M}=getComputedStyle(w),g=w.scrollLeft;d.left=g<a.value,d.right=g>a.value;const x=Math.abs(g)<=0+(r.left||0),L=Math.abs(g)+w.clientWidth>=w.scrollWidth-(r.right||0)-G;h==="flex"&&M==="row-reverse"?(v.left=L,v.right=x):(v.left=x,v.right=L),a.value=g;let C=w.scrollTop;p===document&&!C&&(C=document.body.scrollTop),d.top=C<u.value,d.bottom=C>u.value;const H=Math.abs(C)<=0+(r.top||0),Y=Math.abs(C)+w.clientHeight>=w.scrollHeight-(r.bottom||0)-G;h==="flex"&&M==="column-reverse"?(v.top=Y,v.bottom=H):(v.top=H,v.bottom=Y),u.value=C},R=p=>{const w=p.target===document?p.target.documentElement:p.target;_(w),O.value=!0,S(p),f(p)};return P(e,"scroll",o?de(R,o,!0,!1):R,i),P(e,"scrollend",b,i),{x:c,y:m,isScrolling:O,arrivedState:v,directions:d,measure(){const p=T(e);p&&_(p)}}}const Te={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function De(e={}){const{reactive:n=!1,target:o=W,aliasMap:t=Te,passive:s=!0,onEventFired:f=D}=e,r=F(new Set),i={toJSON(){return{}},current:r},l=n?F(i):i,a=new Set,u=new Set;function c(v,d){v in l&&(n?l[v]=d:l[v].value=d)}function m(){r.clear();for(const v of u)c(v,!1)}function y(v,d){var b,S;const _=(b=v.key)==null?void 0:b.toLowerCase(),p=[(S=v.code)==null?void 0:S.toLowerCase(),_].filter(Boolean);_&&(d?r.add(_):r.delete(_));for(const w of p)u.add(w),c(w,d);_==="meta"&&!d?(a.forEach(w=>{r.delete(w),c(w,!1)}),a.clear()):typeof v.getModifierState=="function"&&v.getModifierState("Meta")&&d&&[...r,...p].forEach(w=>a.add(w))}P(o,"keydown",v=>(y(v,!0),f(v)),{passive:s}),P(o,"keyup",v=>(y(v,!1),f(v)),{passive:s}),P("blur",m,{passive:!0}),P("focus",m,{passive:!0});const O=new Proxy(l,{get(v,d,b){if(typeof d!="string")return Reflect.get(v,d,b);if(d=d.toLowerCase(),d in t&&(d=t[d]),!(d in l))if(/[+_-]/.test(d)){const _=d.split(/[+_-]/g).map(R=>R.trim());l[d]=j(()=>_.every(R=>T(O[R])))}else l[d]=E(!1);const S=Reflect.get(v,d,b);return n?T(S):S}});return O}const Me={page:e=>[e.pageX,e.pageY],client:e=>[e.clientX,e.clientY],screen:e=>[e.screenX,e.screenY],movement:e=>e instanceof Touch?null:[e.movementX,e.movementY]};function Re(e={}){const{type:n="page",touch:o=!0,resetOnTouchEnds:t=!1,initialValue:s={x:0,y:0},window:f=W,target:r=f,eventFilter:i}=e,l=E(s.x),a=E(s.y),u=E(null),c=typeof n=="function"?n:Me[n],m=b=>{const S=c(b);S&&([l.value,a.value]=S,u.value="mouse")},y=b=>{if(b.touches.length>0){const S=c(b.touches[0]);S&&([l.value,a.value]=S,u.value="touch")}},O=()=>{l.value=s.x,a.value=s.y},v=i?b=>i(()=>m(b),{}):b=>m(b),d=i?b=>i(()=>y(b),{}):b=>y(b);return r&&(P(r,"mousemove",v,{passive:!0}),P(r,"dragover",v,{passive:!0}),o&&n!=="movement"&&(P(r,"touchstart",d,{passive:!0}),P(r,"touchmove",d,{passive:!0}),t&&P(r,"touchend",O,{passive:!0}))),{x:l,y:a,sourceType:u}}function We(e,n={}){const{handleOutside:o=!0,window:t=W}=n,{x:s,y:f,sourceType:r}=Re(n),i=E(e??(t==null?void 0:t.document.body)),l=E(0),a=E(0),u=E(0),c=E(0),m=E(0),y=E(0),O=E(!0);let v=()=>{};return t&&(v=A([i,s,f],()=>{const d=I(i);if(!d)return;const{left:b,top:S,width:_,height:R}=d.getBoundingClientRect();u.value=b+t.pageXOffset,c.value=S+t.pageYOffset,m.value=R,y.value=_;const p=s.value-u.value,w=f.value-c.value;O.value=_===0||R===0||p<0||w<0||p>_||w>R,(o||!O.value)&&(l.value=p,a.value=w)},{immediate:!0}),P(document,"mouseleave",()=>{O.value=!0})),{x:s,y:f,sourceType:r,elementX:l,elementY:a,elementPositionX:u,elementPositionY:c,elementHeight:m,elementWidth:y,isOutside:O,stop:v}}function Ie(e,n=D,o={}){const{immediate:t=!0,manual:s=!1,type:f="text/javascript",async:r=!0,crossOrigin:i,referrerPolicy:l,noModule:a,defer:u,document:c=pe,attrs:m={}}=o,y=E(null);let O=null;const v=S=>new Promise((_,R)=>{const p=M=>(y.value=M,_(M),M);if(!c){_(!1);return}let w=!1,h=c.querySelector(`script[src="${T(e)}"]`);h?h.hasAttribute("data-loaded")&&p(h):(h=c.createElement("script"),h.type=f,h.async=r,h.src=T(e),u&&(h.defer=u),i&&(h.crossOrigin=i),a&&(h.noModule=a),l&&(h.referrerPolicy=l),Object.entries(m).forEach(([M,g])=>h==null?void 0:h.setAttribute(M,g)),w=!0),h.addEventListener("error",M=>R(M)),h.addEventListener("abort",M=>R(M)),h.addEventListener("load",()=>{h.setAttribute("data-loaded","true"),n(h),p(h)}),w&&(h=c.head.appendChild(h)),S||p(h)}),d=(S=!0)=>(O||(O=v(S)),O),b=()=>{if(!c)return;O=null,y.value&&(y.value=null);const S=c.querySelector(`script[src="${T(e)}"]`);S&&c.head.removeChild(S)};return t&&!s&&Q(d),s||ve(b),{scriptTag:y,load:d,unload:b}}const K="ping";function V(e){return e===!0?{}:e}function He(e,n={}){const{onConnected:o,onDisconnected:t,onError:s,onMessage:f,immediate:r=!0,autoClose:i=!0,protocols:l=[]}=n,a=E(null),u=E("CLOSED"),c=E(),m=J(e);let y,O,v=!1,d=0,b=[],S;const _=(g=1e3,x)=>{c.value&&(v=!0,y==null||y(),c.value.close(g,x))},R=()=>{if(b.length&&c.value&&u.value==="OPEN"){for(const g of b)c.value.send(g);b=[]}},p=()=>{clearTimeout(S),S=void 0},w=(g,x=!0)=>!c.value||u.value!=="OPEN"?(x&&b.push(g),!1):(R(),c.value.send(g),!0),h=()=>{if(v||typeof m.value>"u")return;const g=new WebSocket(m.value,l);c.value=g,u.value="CONNECTING",g.onopen=()=>{u.value="OPEN",o==null||o(g),O==null||O(),R()},g.onclose=x=>{if(u.value="CLOSED",c.value=void 0,t==null||t(g,x),!v&&n.autoReconnect){const{retries:L=-1,delay:C=1e3,onFailed:H}=V(n.autoReconnect);d+=1,typeof L=="number"&&(L<0||d<L)||typeof L=="function"&&L()?setTimeout(h,C):H==null||H()}},g.onerror=x=>{s==null||s(g,x)},g.onmessage=x=>{if(n.heartbeat){p();const{message:L=K}=V(n.heartbeat);if(x.data===L)return}a.value=x.data,f==null||f(g,x)}};if(n.heartbeat){const{message:g=K,interval:x=1e3,pongTimeout:L=1e3}=V(n.heartbeat),{pause:C,resume:H}=me(()=>{w(g,!1),S==null&&(S=setTimeout(()=>{_()},L))},x,{immediate:!1});y=C,O=H}i&&(P(window,"beforeunload",()=>_()),$(_));const M=()=>{_(),v=!1,d=0,h()};return r&&A(m,M,{immediate:!0}),{data:a,status:u,close:_,send:w,open:M,ws:c}}function je(e={}){const{window:n=W,initialWidth:o=1/0,initialHeight:t=1/0,listenOrientation:s=!0,includeScrollbar:f=!0}=e,r=E(o),i=E(t),l=()=>{n&&(f?(r.value=n.innerWidth,i.value=n.innerHeight):(r.value=n.document.documentElement.clientWidth,i.value=n.document.documentElement.clientHeight))};if(l(),Q(l),P("resize",l,{passive:!0}),s){const a=ye("(orientation: portrait)");A(a,()=>l())}return{width:r,height:i}}export{xe as a,je as b,Ae as c,Ce as d,We as e,Ie as f,He as g,Le as h,Ee as i,De as u};
