import{V as Q,C as J,L as K,F as X,G as it,B as _,a as b,b as D,M as V,P as y,c as q,d as Y,e as z,f as W,g as at,h as nt,R as rt,i as U,D as lt,T as ct,s as At,j as gt,u as pt,t as dt,l as ut}from"./BaseThree-a422b125.js";import{f as ht}from"./miaozidongmanti-regular-c1fcdfef.js";import{d as ft,r as N,o as mt,c as Ct,f as R,m as It,n as Mt,u as v,i as wt,j as F,F as Et,p as Bt,t as xt,_ as Lt}from"./index-bec39bc9.js";const bt="data:image/png;base64,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",Qt=""+new URL("a-f27a7f2a.png",import.meta.url).href,St=""+new URL("file-082b4024.obj",import.meta.url).href,yt="data:model/mtl;base64,77u/IyAzZHMgTWF4IFdhdmVmcm9udCBPQkogRXhwb3J0ZXIgdjAuOTdiIC0gKGMpMjAwNyBndXJ1d2FyZQojILS0vai1xM7EvP46MTkuMTEuMjAxNSAyMDo0NTo1NwoKbmV3bXRsIHdpcmVfMTM1MDA2MDA2CglOcyAzMgoJZCAxCglUciAwCglUZiAxIDEgMQoJaWxsdW0gMgoJS2EgMC41Mjk0IDAuMDIzNSAwLjAyMzUKCUtkIDAuNTI5NCAwLjAyMzUgMC4wMjM1CglLcyAwLjM1MDAgMC4zNTAwIDAuMzUwMAoKbmV3bXRsIHdpcmVfMTQ1MDI4MTc3CglOcyAzMgoJZCAxCglUciAwCglUZiAxIDEgMQoJaWxsdW0gMgoJS2EgMC41Njg2IDAuMTA5OCAwLjY5NDEKCUtkIDAuNTY4NiAwLjEwOTggMC42OTQxCglLcyAwLjM1MDAgMC4zNTAwIDAuMzUwMAoKbmV3bXRsIHdpcmVfMTM1MDU5MDA4CglOcyAzMgoJZCAxCglUciAwCglUZiAxIDEgMQoJaWxsdW0gMgoJS2EgMC41Mjk0IDAuMjMxNCAwLjAzMTQKCUtkIDAuNTI5NCAwLjIzMTQgMC4wMzE0CglLcyAwLjM1MDAgMC4zNTAwIDAuMzUwMAoKbmV3bXRsIHdpcmVfMjI1MTQzMDg3CglOcyAzMgoJZCAxCglUciAwCglUZiAxIDEgMQoJaWxsdW0gMgoJS2EgMC44ODI0IDAuNTYwOCAwLjM0MTIKCUtkIDAuODgyNCAwLjU2MDggMC4zNDEyCglLcyAwLjM1MDAgMC4zNTAwIDAuMzUwMAoKbmV3bXRsIHdpcmVfMTU0MTU0MjI5CglOcyAzMgoJZCAxCglUciAwCglUZiAxIDEgMQoJaWxsdW0gMgoJS2EgMC42MDM5IDAuNjAzOSAwLjg5ODAKCUtkIDAuNjAzOSAwLjYwMzkgMC44OTgwCglLcyAwLjM1MDAgMC4zNTAwIDAuMzUwMAoKbmV3bXRsIHdpcmVfMTA4MDA4MTM2CglOcyAzMgoJZCAxCglUciAwCglUZiAxIDEgMQoJaWxsdW0gMgoJS2EgMC40MjM1IDAuMDMxNCAwLjUzMzMKCUtkIDAuNDIzNSAwLjAzMTQgMC41MzMzCglLcyAwLjM1MDAgMC4zNTAwIDAuMzUwMAo=",vt=""+new URL("wood_bumb-08506dcf.jpg",import.meta.url).href,jt=/^[og]\s*(.+)?/,Jt=/^mtllib /,Dt=/^usemtl /,zt=/^usemap /,G=/\s+/,H=new Q,k=new Q,P=new Q,Z=new Q,E=new Q,j=new J;function kt(){const x={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(e,s){if(this.object&&this.object.fromDeclaration===!1){this.object.name=e,this.object.fromDeclaration=s!==!1;return}const a=this.object&&typeof this.object.currentMaterial=="function"?this.object.currentMaterial():void 0;if(this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0),this.object={name:e||"",fromDeclaration:s!==!1,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,i){const g=this._finalize(!1);g&&(g.inherited||g.groupCount<=0)&&this.materials.splice(g.index,1);const l={index:this.materials.length,name:t||"",mtllib:Array.isArray(i)&&i.length>0?i[i.length-1]:"",smooth:g!==void 0?g.smooth:this.smooth,groupStart:g!==void 0?g.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(r){const n={index:typeof r=="number"?r:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return n.clone=this.clone.bind(n),n}};return this.materials.push(l),l},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){const i=this.currentMaterial();if(i&&i.groupEnd===-1&&(i.groupEnd=this.geometry.vertices.length/3,i.groupCount=i.groupEnd-i.groupStart,i.inherited=!1),t&&this.materials.length>1)for(let g=this.materials.length-1;g>=0;g--)this.materials[g].groupCount<=0&&this.materials.splice(g,1);return t&&this.materials.length===0&&this.materials.push({name:"",smooth:this.smooth}),i}},a&&a.name&&typeof a.clone=="function"){const t=a.clone(0);t.inherited=!0,this.object.materials.push(t)}this.objects.push(this.object)},finalize:function(){this.object&&typeof this.object._finalize=="function"&&this.object._finalize(!0)},parseVertexIndex:function(e,s){const a=parseInt(e,10);return(a>=0?a-1:a+s/3)*3},parseNormalIndex:function(e,s){const a=parseInt(e,10);return(a>=0?a-1:a+s/3)*3},parseUVIndex:function(e,s){const a=parseInt(e,10);return(a>=0?a-1:a+s/2)*2},addVertex:function(e,s,a){const t=this.vertices,i=this.object.geometry.vertices;i.push(t[e+0],t[e+1],t[e+2]),i.push(t[s+0],t[s+1],t[s+2]),i.push(t[a+0],t[a+1],t[a+2])},addVertexPoint:function(e){const s=this.vertices;this.object.geometry.vertices.push(s[e+0],s[e+1],s[e+2])},addVertexLine:function(e){const s=this.vertices;this.object.geometry.vertices.push(s[e+0],s[e+1],s[e+2])},addNormal:function(e,s,a){const t=this.normals,i=this.object.geometry.normals;i.push(t[e+0],t[e+1],t[e+2]),i.push(t[s+0],t[s+1],t[s+2]),i.push(t[a+0],t[a+1],t[a+2])},addFaceNormal:function(e,s,a){const t=this.vertices,i=this.object.geometry.normals;H.fromArray(t,e),k.fromArray(t,s),P.fromArray(t,a),E.subVectors(P,k),Z.subVectors(H,k),E.cross(Z),E.normalize(),i.push(E.x,E.y,E.z),i.push(E.x,E.y,E.z),i.push(E.x,E.y,E.z)},addColor:function(e,s,a){const t=this.colors,i=this.object.geometry.colors;t[e]!==void 0&&i.push(t[e+0],t[e+1],t[e+2]),t[s]!==void 0&&i.push(t[s+0],t[s+1],t[s+2]),t[a]!==void 0&&i.push(t[a+0],t[a+1],t[a+2])},addUV:function(e,s,a){const t=this.uvs,i=this.object.geometry.uvs;i.push(t[e+0],t[e+1]),i.push(t[s+0],t[s+1]),i.push(t[a+0],t[a+1])},addDefaultUV:function(){const e=this.object.geometry.uvs;e.push(0,0),e.push(0,0),e.push(0,0)},addUVLine:function(e){const s=this.uvs;this.object.geometry.uvs.push(s[e+0],s[e+1])},addFace:function(e,s,a,t,i,g,l,r,n){const p=this.vertices.length;let o=this.parseVertexIndex(e,p),c=this.parseVertexIndex(s,p),d=this.parseVertexIndex(a,p);if(this.addVertex(o,c,d),this.addColor(o,c,d),l!==void 0&&l!==""){const h=this.normals.length;o=this.parseNormalIndex(l,h),c=this.parseNormalIndex(r,h),d=this.parseNormalIndex(n,h),this.addNormal(o,c,d)}else this.addFaceNormal(o,c,d);if(t!==void 0&&t!==""){const h=this.uvs.length;o=this.parseUVIndex(t,h),c=this.parseUVIndex(i,h),d=this.parseUVIndex(g,h),this.addUV(o,c,d),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(e){this.object.geometry.type="Points";const s=this.vertices.length;for(let a=0,t=e.length;a<t;a++){const i=this.parseVertexIndex(e[a],s);this.addVertexPoint(i),this.addColor(i)}},addLineGeometry:function(e,s){this.object.geometry.type="Line";const a=this.vertices.length,t=this.uvs.length;for(let i=0,g=e.length;i<g;i++)this.addVertexLine(this.parseVertexIndex(e[i],a));for(let i=0,g=s.length;i<g;i++)this.addUVLine(this.parseUVIndex(s[i],t))}};return x.startObject("",!1),x}class Ut extends K{constructor(e){super(e),this.materials=null}load(e,s,a,t){const i=this,g=new X(this.manager);g.setPath(this.path),g.setRequestHeader(this.requestHeader),g.setWithCredentials(this.withCredentials),g.load(e,function(l){try{s(i.parse(l))}catch(r){t?t(r):console.error(r),i.manager.itemError(e)}},a,t)}setMaterials(e){return this.materials=e,this}parse(e){const s=new kt;e.indexOf(`\r
`)!==-1&&(e=e.replace(/\r\n/g,`
`)),e.indexOf(`\\
`)!==-1&&(e=e.replace(/\\\n/g,""));const a=e.split(`
`);let t=[];for(let l=0,r=a.length;l<r;l++){const n=a[l].trimStart();if(n.length===0)continue;const p=n.charAt(0);if(p!=="#")if(p==="v"){const o=n.split(G);switch(o[0]){case"v":s.vertices.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3])),o.length>=7?(j.setRGB(parseFloat(o[4]),parseFloat(o[5]),parseFloat(o[6])).convertSRGBToLinear(),s.colors.push(j.r,j.g,j.b)):s.colors.push(void 0,void 0,void 0);break;case"vn":s.normals.push(parseFloat(o[1]),parseFloat(o[2]),parseFloat(o[3]));break;case"vt":s.uvs.push(parseFloat(o[1]),parseFloat(o[2]));break}}else if(p==="f"){const c=n.slice(1).trim().split(G),d=[];for(let f=0,m=c.length;f<m;f++){const C=c[f];if(C.length>0){const I=C.split("/");d.push(I)}}const h=d[0];for(let f=1,m=d.length-1;f<m;f++){const C=d[f],I=d[f+1];s.addFace(h[0],C[0],I[0],h[1],C[1],I[1],h[2],C[2],I[2])}}else if(p==="l"){const o=n.substring(1).trim().split(" ");let c=[];const d=[];if(n.indexOf("/")===-1)c=o;else for(let h=0,f=o.length;h<f;h++){const m=o[h].split("/");m[0]!==""&&c.push(m[0]),m[1]!==""&&d.push(m[1])}s.addLineGeometry(c,d)}else if(p==="p"){const c=n.slice(1).trim().split(" ");s.addPointGeometry(c)}else if((t=jt.exec(n))!==null){const o=(" "+t[0].slice(1).trim()).slice(1);s.startObject(o)}else if(Dt.test(n))s.object.startMaterial(n.substring(7).trim(),s.materialLibraries);else if(Jt.test(n))s.materialLibraries.push(n.substring(7).trim());else if(zt.test(n))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if(p==="s"){if(t=n.split(" "),t.length>1){const c=t[1].trim().toLowerCase();s.object.smooth=c!=="0"&&c!=="off"}else s.object.smooth=!0;const o=s.object.currentMaterial();o&&(o.smooth=s.object.smooth)}else{if(n==="\0")continue;console.warn('THREE.OBJLoader: Unexpected line: "'+n+'"')}}s.finalize();const i=new it;if(i.materialLibraries=[].concat(s.materialLibraries),!(s.objects.length===1&&s.objects[0].geometry.vertices.length===0)===!0)for(let l=0,r=s.objects.length;l<r;l++){const n=s.objects[l],p=n.geometry,o=n.materials,c=p.type==="Line",d=p.type==="Points";let h=!1;if(p.vertices.length===0)continue;const f=new _;f.setAttribute("position",new b(p.vertices,3)),p.normals.length>0&&f.setAttribute("normal",new b(p.normals,3)),p.colors.length>0&&(h=!0,f.setAttribute("color",new b(p.colors,3))),p.hasUVIndices===!0&&f.setAttribute("uv",new b(p.uvs,2));const m=[];for(let I=0,B=o.length;I<B;I++){const w=o[I],A=w.name+"_"+w.smooth+"_"+h;let u=s.materials[A];if(this.materials!==null){if(u=this.materials.create(w.name),c&&u&&!(u instanceof D)){const M=new D;V.prototype.copy.call(M,u),M.color.copy(u.color),u=M}else if(d&&u&&!(u instanceof y)){const M=new y({size:10,sizeAttenuation:!1});V.prototype.copy.call(M,u),M.color.copy(u.color),M.map=u.map,u=M}}u===void 0&&(c?u=new D:d?u=new y({size:1,sizeAttenuation:!1}):u=new q,u.name=w.name,u.flatShading=!w.smooth,u.vertexColors=h,s.materials[A]=u),m.push(u)}let C;if(m.length>1){for(let I=0,B=o.length;I<B;I++){const w=o[I];f.addGroup(w.groupStart,w.groupCount,I)}c?C=new Y(f,m):d?C=new z(f,m):C=new W(f,m)}else c?C=new Y(f,m[0]):d?C=new z(f,m[0]):C=new W(f,m[0]);C.name=n.name,i.add(C)}else if(s.vertices.length>0){const l=new y({size:1,sizeAttenuation:!1}),r=new _;r.setAttribute("position",new b(s.vertices,3)),s.colors.length>0&&s.colors[0]!==void 0&&(r.setAttribute("color",new b(s.colors,3)),l.vertexColors=!0);const n=new z(r,l);i.add(n)}return i}}class Ot extends K{constructor(e){super(e)}load(e,s,a,t){const i=this,g=this.path===""?at.extractUrlBase(e):this.path,l=new X(this.manager);l.setPath(this.path),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(r){try{s(i.parse(r,g))}catch(n){t?t(n):console.error(n),i.manager.itemError(e)}},a,t)}setMaterialOptions(e){return this.materialOptions=e,this}parse(e,s){const a=e.split(`
`);let t={};const i=/\s+/,g={};for(let r=0;r<a.length;r++){let n=a[r];if(n=n.trim(),n.length===0||n.charAt(0)==="#")continue;const p=n.indexOf(" ");let o=p>=0?n.substring(0,p):n;o=o.toLowerCase();let c=p>=0?n.substring(p+1):"";if(c=c.trim(),o==="newmtl")t={name:c},g[c]=t;else if(o==="ka"||o==="kd"||o==="ks"||o==="ke"){const d=c.split(i,3);t[o]=[parseFloat(d[0]),parseFloat(d[1]),parseFloat(d[2])]}else t[o]=c}const l=new Tt(this.resourcePath||s,this.materialOptions);return l.setCrossOrigin(this.crossOrigin),l.setManager(this.manager),l.setMaterials(g),l}}class Tt{constructor(e="",s={}){this.baseUrl=e,this.options=s,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=this.options.side!==void 0?this.options.side:nt,this.wrap=this.options.wrap!==void 0?this.options.wrap:rt}setCrossOrigin(e){return this.crossOrigin=e,this}setManager(e){this.manager=e}setMaterials(e){this.materialsInfo=this.convert(e),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(e){if(!this.options)return e;const s={};for(const a in e){const t=e[a],i={};s[a]=i;for(const g in t){let l=!0,r=t[g];const n=g.toLowerCase();switch(n){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(r=[r[0]/255,r[1]/255,r[2]/255]),this.options&&this.options.ignoreZeroRGBs&&r[0]===0&&r[1]===0&&r[2]===0&&(l=!1);break}l&&(i[n]=r)}}return s}preload(){for(const e in this.materialsInfo)this.create(e)}getIndex(e){return this.nameLookup[e]}getAsArray(){let e=0;for(const s in this.materialsInfo)this.materialsArray[e]=this.create(s),this.nameLookup[s]=e,e++;return this.materialsArray}create(e){return this.materials[e]===void 0&&this.createMaterial_(e),this.materials[e]}createMaterial_(e){const s=this,a=this.materialsInfo[e],t={name:e,side:this.side};function i(l,r){return typeof r!="string"||r===""?"":/^https?:\/\//i.test(r)?r:l+r}function g(l,r){if(t[l])return;const n=s.getTextureParams(r,t),p=s.loadTexture(i(s.baseUrl,n.url));p.repeat.copy(n.scale),p.offset.copy(n.offset),p.wrapS=s.wrap,p.wrapT=s.wrap,(l==="map"||l==="emissiveMap")&&(p.encoding=At),t[l]=p}for(const l in a){const r=a[l];let n;if(r!=="")switch(l.toLowerCase()){case"kd":t.color=new J().fromArray(r).convertSRGBToLinear();break;case"ks":t.specular=new J().fromArray(r).convertSRGBToLinear();break;case"ke":t.emissive=new J().fromArray(r).convertSRGBToLinear();break;case"map_kd":g("map",r);break;case"map_ks":g("specularMap",r);break;case"map_ke":g("emissiveMap",r);break;case"norm":g("normalMap",r);break;case"map_bump":case"bump":g("bumpMap",r);break;case"map_d":g("alphaMap",r),t.transparent=!0;break;case"ns":t.shininess=parseFloat(r);break;case"d":n=parseFloat(r),n<1&&(t.opacity=n,t.transparent=!0);break;case"tr":n=parseFloat(r),this.options&&this.options.invertTrProperty&&(n=1-n),n>0&&(t.opacity=1-n,t.transparent=!0);break}}return this.materials[e]=new q(t),this.materials[e]}getTextureParams(e,s){const a={scale:new U(1,1),offset:new U(0,0)},t=e.split(/\s+/);let i;return i=t.indexOf("-bm"),i>=0&&(s.bumpScale=parseFloat(t[i+1]),t.splice(i,2)),i=t.indexOf("-s"),i>=0&&(a.scale.set(parseFloat(t[i+1]),parseFloat(t[i+2])),t.splice(i,4)),i=t.indexOf("-o"),i>=0&&(a.offset.set(parseFloat(t[i+1]),parseFloat(t[i+2])),t.splice(i,4)),a.url=t.join(" ").trim(),a}loadTexture(e,s,a,t,i){const g=this.manager!==void 0?this.manager:lt;let l=g.getHandler(e);l===null&&(l=new ct(g)),l.setCrossOrigin&&l.setCrossOrigin(this.crossOrigin);const r=l.load(e,a,t,i);return s!==void 0&&(r.mapping=s),r}}const _t={class:"house"},Vt=["src"],Yt=ft({__name:"House",setup(x){const e=N({box:{position:{x:0,y:0,z:0},size:{width:300,height:10,depth:30},rotate:{rx:0,ry:0,rz:0}},mode:"translate"});new gt,new U;const s=async o=>{},a={width:120,depth:5,position:[0,0],scale:[1,1,1],rotation:[0,0,0]},t=async(o,c,d,h)=>{const{scene:f,THREE:m}=o,C=70,I=C/2,{width:B,depth:w,position:[A,u,M],scale:[$,O,tt],rotation:[et,st,ot]}=ut.merge(a,d),L=new m.Mesh(new m.BoxGeometry(B,C,w),new m.MeshLambertMaterial({map:o.imagesTexture.get("wall")})),T=M||I;if(L.position.set(A,T,u),L.scale.set($,O,tt),L.rotation.set(et,st,ot),L.castShadow=!0,L.receiveShadow=!0,f.add(L),h){const{mesh:S}=await o.addText(h,"font");S.position.set(A,Math.abs((C*O+2)/2+T),u),S.scale.set(.01594,.01594,.01594),S.rotation.set(-1.5,0,0),f.add(S)}},i=N(["translate","scale","rotate"]),{a:g,s:l,d:r}=pt(),n=async o=>{const{THREE:c,planeGeometryMesh:d,scene:h,camera:f,light:m}=o,C=await o.downloadImagesTexture("https://img0.baidu.com/it/u=1747596165,3790153622&fm=253&fmt=auto&app=138&f=JPG?w=667&h=500","wall");C.repeat.set(3,2),C.wrapS=c.RepeatWrapping,C.wrapT=c.MirroredRepeatWrapping;const I=o.downloadImagesTexture(Qt,"addBoxTexture");await o.downloadFonts(ht,"font"),I.repeat.set(20,20),I.wrapS=c.RepeatWrapping,I.wrapT=c.MirroredRepeatWrapping,m.intensity=1,m.color.set("#ffefd6");const B=new c.PointLight("#ffffff",.8);B.position.set(0,100,100),h.add(B);const w=new c.Mesh(new c.BoxGeometry(300,1,300),new c.MeshLambertMaterial({map:I}));h.add(w);const A=o.transformControls();Bt(()=>{g.value?A.setMode(i.value[0]):l.value?A.setMode(i.value[1]):r.value?A.setMode(i.value[2]):A.setMode(e.value.mode)}),t(o,A,{position:[44.39,-147],scale:[.94]},"1"),t(o,A,{position:[98.03,-129.23],scale:[.32],rotation:[0,1.56]},"2"),t(o,A,{position:[-9.112,-76.06],scale:[.262,1,1.491],rotation:[0,1.56]},"3"),t(o,A,{position:[-6.75,-63.55],scale:[.2768,1,1.491],rotation:[0,0]},"4"),t(o,A,{position:[90.56,-63.55],scale:[.991,1,1.491],rotation:[0,0]},"5"),t(o,A,{position:[48.26,-74.505],scale:[.1689,1,1.491],rotation:[0,1.56]},"6"),t(o,A,{position:[59.56,-52.07],scale:[.1689,1,1.491],rotation:[0,1.56]},"7"),t(o,A,{position:[145.86,-14.966],scale:[.8604,1,1.491],rotation:[0,1.56]},"8"),t(o,A,{position:[139.567,-14.966],scale:[.1279,1,1.491],rotation:[0,0]},"9"),t(o,A,{position:[73.202,-14.966],scale:[.6837,1,1.491],rotation:[0,0]},"10"),t(o,A,{position:[110.912,-12.695],scale:[.098099,1,1.491],rotation:[0,1.56]},"11"),t(o,A,{position:[59.151,-4.766],scale:[.223091,1,1.491],rotation:[0,1.56]},"12"),t(o,A,{position:[35.846,-4.766],scale:[.1566,1,1.491],rotation:[0,1.56]},"13"),t(o,A,{position:[35.846,89.17919],scale:[1.0263,1,1.491],rotation:[0,1.56]},"14"),t(o,A,{position:[111.0753,73.2094],scale:[1.0263,1,1.491],rotation:[0,1.56]},"15"),t(o,A,{position:[87.0712,33.708],scale:[.467,1,1.491],rotation:[0,0]},"16"),t(o,A,{position:[59.151,33.09617],scale:[.07228,1,1.491],rotation:[0,1.56]},"17"),t(o,A,{position:[53.663,140.3025],scale:[.20416,1,1.491],rotation:[0,1.56]},"18"),t(o,A,{position:[93.745,140.3025],scale:[.20416,1,1.491],rotation:[0,1.56]},"19"),t(o,A,{position:[102.15,131.4817],scale:[.2016,1,1.491],rotation:[0,0]},"20"),t(o,A,{position:[40.621,131.4817],scale:[.2794,1,1.491],rotation:[0,0]},"21"),t(o,A,{position:[-47,131.4817],scale:[.2164,1,1.491],rotation:[0,0]},"22"),t(o,A,{position:[-107.44,131.4817],scale:[.1973,1,1.491],rotation:[0,0]},"23"),t(o,A,{position:[-46.8022,89.17919],scale:[1.0263,1,1.491],rotation:[0,1.56]},"24"),t(o,A,{position:[-115.813,89.17919],scale:[1.0263,1,1.491],rotation:[0,1.56]},"25"),t(o,A,{position:[-91.9445,31.39],scale:[.3718,1,1.491],rotation:[0,0]},"26"),t(o,A,{position:[-118.8577,51.203],scale:[.0756,1,1.491],rotation:[0,0]},"27"),t(o,A,{position:[-146.7509,8.384],scale:[1.2771,1,1.491],rotation:[0,1.56]},"28"),t(o,A,{position:[-83.8454,-31.301],scale:[.6195,1,1.491],rotation:[0,1.56]},"29"),t(o,A,{position:[-45.548,-31.301],scale:[.6195,1,1.491],rotation:[0,1.56]},"30"),t(o,A,{position:[-110.738,-64.833],scale:[.64934,1,1.491],rotation:[0,0]},"31"),t(o,A,{position:[-49.315,-64.833],scale:[.12904,1,1.491],rotation:[0,0]},"32"),t(o,A,{position:[-75.8735,2.14],scale:[.1619,1,1.491],rotation:[0,0]},"33"),t(o,A,{position:[-74.1106,5.48114],scale:[.04225,1,1.491],rotation:[0,1.56]},"34"),t(o,A,{position:[-32.7006,-63.7064,15.9614],scale:[.0635,.4445,3.8021],rotation:[0,1.56]},"35"),t(o,A,{position:[-32.7006,-63.7064,66.0017],scale:[.0635,.1139,3.8021],rotation:[0,1.56]},"36");const u=await new Ot().loadAsync(yt);u.loadTexture(vt);const M=await new Ut().setMaterials(u).loadAsync(St);M.scale.set(.2627,.3166,.2949),M.rotation.set(0,Math.PI,0),M.position.set(81.7755,0,49.5),M.castShadow=!0,M.receiveShadow=!0,h.add(M)},p=(o,c)=>(c.gui.addFolder("配置参数").add(o,"mode",i.value),()=>{});return(o,c)=>(mt(),Ct(Et,null,[R("div",_t,[It(v(dt),{"initialization-data":v(e),"onUpdate:initializationData":c[0]||(c[0]=d=>wt(e)?e.value=d:null),onLoad:n,gui:!0,coordinateLine:!1,onGui:p,onAnimation:s},{panel:Mt(()=>[F(xt(v(e)),1)]),_:1},8,["initialization-data"]),R("img",{src:v(bt),alt:""},null,8,Vt)]),F(" ¡ ")],64))}});const Ft=Lt(Yt,[["__scopeId","data-v-a7dbc5c9"]]);export{Ft as default};
