import{R as O,V as _,u as b,t as h,l as U}from"./BaseThree-57a26ffb.js";import{d as N,r as Y,o as Z,c as T,f,m as V,n as X,u as p,i as j,j as x,F,p as K,t as P,_ as q}from"./index-d3d7f607.js";const $="data:image/png;base64,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",AA=""+new URL("a-f27a7f2a.png",import.meta.url).href,oA=""+new URL("miaozidongmanti-regular-1b731fea.ttf",import.meta.url).href,sA={class:"house"},tA=["src"],aA=N({__name:"House",setup(iA){const E=Y({box:{position:{x:0,y:0,z:0},size:{width:300,height:10,depth:30},rotate:{rx:0,ry:0,rz:0}},mode:"translate"});new O,new _;const u=async A=>{},M={width:120,depth:5,position:[0,0],scale:[1,1,1],rotation:[0,0,0]},w=[],s=async(A,t,B,C)=>{const{scene:n,THREE:g}=A,i=70,e=i/2,{width:c,depth:S,position:[o,d,v],scale:[J,r,L],rotation:[y,R,H]}=U.merge(M,B),a=new g.Mesh(new g.BoxGeometry(c,i,S),new g.MeshLambertMaterial({map:A.imagesTexture.get("wall")})),Q=v||e;a.position.set(o,Q,d),a.scale.set(J,r,L),a.rotation.set(y,R,H),a.castShadow=!0,a.receiveShadow=!0,t.attach(a);const m=()=>{console.log("box",{position:a.position,parameters:a.geometry.parameters,rotation:a.rotation,scale:a.scale})};if(w.forEach(l=>{t.removeEventListener("change",l)}),t.addEventListener("change",m),w.push(m),n.add(a),C){const{mesh:l}=await A.addText(C,"font");console.clear(),console.log(Math.abs((i*r+2)/2+Q),o,Q,d,J,r,L),l.position.set(o,Math.abs((i*r+2)/2+Q),d),l.scale.set(.01594,.01594,.01594),l.rotation.set(-1.5,0,0),n.add(l)}},I=Y(["translate","scale","rotate"]),{a:W,s:k,d:D}=b(),z=async A=>{const{THREE:t,planeGeometryMesh:B,scene:C,camera:n,light:g}=A,i=await A.downloadImagesTexture("https://img0.baidu.com/it/u=1747596165,3790153622&fm=253&fmt=auto&app=138&f=JPG?w=667&h=500","wall");i.repeat.set(3,2),i.wrapS=t.RepeatWrapping,i.wrapT=t.MirroredRepeatWrapping;const e=A.downloadImagesTexture(AA,"addBoxTexture");await A.downloadFonts(oA,"font"),e.repeat.set(20,20),e.wrapS=t.RepeatWrapping,e.wrapT=t.MirroredRepeatWrapping,g.intensity=1,g.color.set("#ffefd6");const c=new t.PointLight("#ffffff",.8);c.position.set(0,100,100),C.add(c);const S=new t.Mesh(new t.BoxGeometry(300,1,300),new t.MeshLambertMaterial({map:e}));C.add(S);const o=A.transformControls();K(()=>{W.value?o.setMode(I.value[0]):k.value?o.setMode(I.value[1]):D.value?o.setMode(I.value[2]):o.setMode(E.value.mode)}),s(A,o,{position:[44.39,-147],scale:[.94]},"1"),s(A,o,{position:[98.03,-129.23],scale:[.32],rotation:[0,1.56]},"2"),s(A,o,{position:[-9.112,-76.06],scale:[.262,1,1.491],rotation:[0,1.56]},"3"),s(A,o,{position:[-6.75,-63.55],scale:[.2768,1,1.491],rotation:[0,0]},"4"),s(A,o,{position:[90.56,-63.55],scale:[.991,1,1.491],rotation:[0,0]},"5"),s(A,o,{position:[48.26,-74.505],scale:[.1689,1,1.491],rotation:[0,1.56]},"6"),s(A,o,{position:[59.56,-52.07],scale:[.1689,1,1.491],rotation:[0,1.56]},"7"),s(A,o,{position:[145.86,-14.966],scale:[.8604,1,1.491],rotation:[0,1.56]},"8"),s(A,o,{position:[139.567,-14.966],scale:[.1279,1,1.491],rotation:[0,0]},"9"),s(A,o,{position:[73.202,-14.966],scale:[.6837,1,1.491],rotation:[0,0]},"10"),s(A,o,{position:[110.912,-12.695],scale:[.098099,1,1.491],rotation:[0,1.56]},"11"),s(A,o,{position:[59.151,-4.766],scale:[.223091,1,1.491],rotation:[0,1.56]},"12"),s(A,o,{position:[35.846,-4.766],scale:[.1566,1,1.491],rotation:[0,1.56]},"13"),s(A,o,{position:[35.846,89.17919],scale:[1.0263,1,1.491],rotation:[0,1.56]},"14"),s(A,o,{position:[111.0753,73.2094],scale:[1.0263,1,1.491],rotation:[0,1.56]},"15"),s(A,o,{position:[87.0712,33.708],scale:[.467,1,1.491],rotation:[0,0]},"16"),s(A,o,{position:[59.151,33.09617],scale:[.07228,1,1.491],rotation:[0,1.56]},"17"),s(A,o,{position:[53.663,140.3025],scale:[.20416,1,1.491],rotation:[0,1.56]},"18"),s(A,o,{position:[93.745,140.3025],scale:[.20416,1,1.491],rotation:[0,1.56]},"19"),s(A,o,{position:[102.15,131.4817],scale:[.2016,1,1.491],rotation:[0,0]},"20"),s(A,o,{position:[40.621,131.4817],scale:[.2794,1,1.491],rotation:[0,0]},"21"),s(A,o,{position:[-47,131.4817],scale:[.2164,1,1.491],rotation:[0,0]},"22"),s(A,o,{position:[-107.44,131.4817],scale:[.1973,1,1.491],rotation:[0,0]},"23"),s(A,o,{position:[-46.8022,89.17919],scale:[1.0263,1,1.491],rotation:[0,1.56]},"24"),s(A,o,{position:[-115.813,89.17919],scale:[1.0263,1,1.491],rotation:[0,1.56]},"25"),s(A,o,{position:[-91.9445,31.39],scale:[.3718,1,1.491],rotation:[0,0]},"26"),s(A,o,{position:[-118.8577,51.203],scale:[.0756,1,1.491],rotation:[0,0]},"27"),s(A,o,{position:[-146.7509,8.384],scale:[1.2771,1,1.491],rotation:[0,1.56]},"28"),s(A,o,{position:[-83.8454,-31.301],scale:[.6195,1,1.491],rotation:[0,1.56]},"29"),s(A,o,{position:[-45.548,-31.301],scale:[.6195,1,1.491],rotation:[0,1.56]},"30"),s(A,o,{position:[-110.738,-64.833],scale:[.64934,1,1.491],rotation:[0,0]},"31"),s(A,o,{position:[-49.315,-64.833],scale:[.12904,1,1.491],rotation:[0,0]},"32"),s(A,o,{position:[-75.8735,2.14],scale:[.1619,1,1.491],rotation:[0,0]},"33"),s(A,o,{position:[-74.1106,5.48114],scale:[.04225,1,1.491],rotation:[0,1.56]},"34"),s(A,o,{position:[-32.7006,-63.7064,15.9614],scale:[.0635,.4445,3.8021],rotation:[0,1.56]},"35"),s(A,o,{position:[-32.7006,-63.7064,66.0017],scale:[.0635,.1139,3.8021],rotation:[0,1.56]},"36"),A.controls.addEventListener("change",()=>{console.log("camera",{position:n.position,rotation:n.rotation,scale:n.scale})})},G=(A,t)=>(t.gui.addFolder("配置参数").add(A,"mode",I.value),()=>{});return(A,t)=>(Z(),T(F,null,[f("div",sA,[V(p(h),{"initialization-data":p(E),"onUpdate:initializationData":t[0]||(t[0]=B=>j(E)?E.value=B:null),onLoad:z,gui:!0,coordinateLine:!0,onGui:G,onAnimation:u},{panel:X(()=>[x(P(p(E)),1)]),_:1},8,["initialization-data"]),f("img",{src:p($),alt:""},null,8,tA)]),x("¡ ")],64))}});const eA=q(aA,[["__scopeId","data-v-8419cda3"]]);export{eA as default};
