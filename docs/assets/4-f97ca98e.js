import{d as N,r as u,o as i,c as m,l as O,a as p,u as v,F as R,b as S,B as j,t as y,k as w,E as D}from"./index-b806783e.js";const F={class:"4"},V={class:"m-t-15"},$=N({__name:"4",setup(A){const o=u([{name:"A",color:"#ff0000",el:null},{name:"B",color:"#e5e5e5",el:null},{name:"C",color:"#e5e5e5",el:null},{name:"D",color:"#e5e5e5",el:null},{name:"E",color:"#e5e5e5",el:null}]),h=u(),_=u(.5),f=u(!0),b=(t,n)=>{t.style.transform=`translateY(${n}px)`,requestAnimationFrame(()=>{t.style.transition=`transform ${_.value}s`,t.style.transform="translateY(0px)",t.style.removeProperty("transform")})},x=t=>{const n=[];o.value.forEach((l,e)=>{const r=t.find(d=>d.start===e);r?n[r.end]=o.value[e]:n[e]=l}),o.value=n,f.value=!1,D(()=>{f.value=!0})},B=(t,n)=>{var g;const l=t<=n,e=o.value.reduce((s,c,a)=>((l&&a>=t&&a<=n||!l&&a>=n&&a<=t)&&s.push({name:c.name,el:c.el,start:a,end:a===t?n:l?a-1:a+1}),s),[]),r=l?e[0]:e[e.length-1],d=o.value[r.start].el,E=(g=o.value[r.end+(l?1:0)])==null?void 0:g.el,T=e.map(s=>s.el.getBoundingClientRect().top);h.value.insertBefore(d,E);const M=e.map(s=>s.el.getBoundingClientRect().top);T.forEach((s,c)=>{const a=e[c];b(a.el,s-M[c])}),setTimeout(()=>{x(e)},_.value*1e3)},C=()=>{B(Math.floor(Math.random()*o.value.length),Math.floor(Math.random()*o.value.length))};return(t,n)=>(i(),m("div",F,[O(" vue实现刷新排序动画 "),p("div",V,[p("button",{class:"w-20 m-b-15px",onClick:C},"点击刷新"),v(f)?(i(),m("ul",{key:0,class:"b-#f00 b-solid",ref_key:"ulRef",ref:h},[(i(!0),m(R,null,S(v(o),(l,e)=>(i(),m("li",{ref_for:!0,ref:r=>l.el=r,class:"lh-50px m-b-5px",style:j({background:l.color}),key:e},y(l.name),5))),128))],512)):w("",!0),p("pre",null,y(JSON.stringify(v(o),null,4)),1)])]))}});export{$ as default};
