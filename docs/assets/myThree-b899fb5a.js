import E from"./BaseThree-2f00a620.js";import{d as g,r as d,o as v,c as _,m as T,p as y,u as l,i as z,h as R,t as F}from"./index-94e84fb4.js";const b=""+new URL("miaozidongmanti-regular-1b731fea.ttf",import.meta.url).href,G=""+new URL("RobotExpressive-047f5e5f.glb",import.meta.url).href,L={class:"three"},A=g({__name:"myThree",setup(B){const i=d({camera:{}}),c=d();d([]);const p=async a=>{const{THREE:e,camera:t,renderer:o,scene:s,controls:S}=a,{mesh:h}=a.addBoxGeometry("https://t7.baidu.com/it/u=4036010509,3445021118&fm=193&f=GIF");a.transformControls().attach(h),await a.downloadFonts(b,"aaa"),await a.addText("智加科技","aaa");const n=await a.addGLTFLoader(G);n.scene.position.set(300,0,0),n.scene.scale.set(50,50,50);const m=r=>{r.castShadow=!0,(r.children||[]).forEach(w=>{m(w)})};m(n.scene),c.value=new e.AnimationMixer(n.scene);const f=c.value.clipAction(n.animations.find(r=>r.name==="Walking"));f.clampWhenFinished=!0,f.reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(.5).play(),s.add(n.scene)},u=({scene:a,THREE:e,clockTime:t})=>{var o,s;(s=(o=c.value)==null?void 0:o.update)==null||s.call(o,t)},x=({camera:a},e)=>{const t=e.gui.addFolder("相机");return t.add(a,"x",1,1e3).step(.01),t.add(a,"y",1,1e3).step(.01),t.add(a,"z",1,1e3).step(.01),()=>{e.camera.position.set(a.x,a.y,a.z)}};return(a,e)=>(v(),_("div",L,[T(l(E),{onLoad:p,onAnimation:u,onGui:x,near:.1,far:1e3,"initialization-data":l(i),"onUpdate:initializationData":e[0]||(e[0]=t=>z(i)?i.value=t:null)},{panel:y(()=>[R(F(l(i)),1)]),_:1},8,["near","initialization-data"])]))}});export{A as default};
