import{d as b,r,B as k,h as w,o as M,c as P,a as _,_ as C}from"./index-71ff745c.js";const D={class:"pie3D w-150px h-150px"},I=b({__name:"Pie3DB",props:{value:{default:25},size:{default:150},radius:{default:60},background:null,color:null},setup(h){const n=h,s=r(),v=r(),p=async()=>{if(!s.value)return;const e=s.value;e.width=n.size,e.height=n.size;const t=e.getContext("2d");t.clearRect(0,0,e.width,e.height);const m=e.width/2,x=e.height/2,d=n.radius,c=25,g=2*Math.PI/c;for(let a=0;a<c;a++){const o=a*g,B=m+d*Math.cos(o),y=x+d*Math.sin(o),u=15,f=20,R=o+Math.PI/2;t.fillStyle=a/c*360<=n.value/100*360?n.color||"#40c9fd":n.background||"#223b60",t.save(),t.translate(B,y),t.rotate(R),t.fillRect(-u/2,-f/2,u,f),t.restore()}},l=r(),i=()=>{l.value=requestAnimationFrame(()=>{p(),i()})};return k(()=>{cancelAnimationFrame(l.value)}),w(async()=>{i()}),(e,t)=>(M(),P("div",D,[_("div",{class:"abs-content canvas-box",ref_key:"canvasBoxRef",ref:v},[_("canvas",{class:"w-150px h-150px",ref_key:"canvasRef",ref:s},null,512)],512)]))}});const A=C(I,[["__scopeId","data-v-c1f004e4"]]);export{A as default};
