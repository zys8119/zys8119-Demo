import{t as E}from"./BaseThree-eda81e0b.js";import{d as v,r as d,o as y,c as _,n as z,q as R,u as l,j as T,l as F,t as G}from"./index-9d00612c.js";import"./lodash-7072a007.js";import"./_commonjsHelpers-edff4021.js";import"./index-f9166124.js";import"./index-06ebfc71.js";const b=""+new URL("miaozidongmanti-regular-1b731fea.ttf",import.meta.url).href,L=""+new URL("RobotExpressive-047f5e5f.glb",import.meta.url).href,A={class:"three"},W=v({__name:"myThree",setup(D){const i=d({camera:{}}),c=d();d([]);const f=async t=>{const{THREE:e,camera:a,renderer:o,scene:s,controls:g,planeGeometryMesh:I}=t;g.maxPolarAngle=Math.PI*.49;const{mesh:h}=t.addBoxGeometry("https://t7.baidu.com/it/u=4036010509,3445021118&fm=193&f=GIF");t.transformControls().attach(h),await t.downloadFonts(b,"aaa"),await t.addText("智加科技","aaa");const n=await t.addGLTFLoader(L);n.scene.position.set(300,0,0),n.scene.scale.set(50,50,50);const m=r=>{r.castShadow=!0,(r.children||[]).forEach(w=>{m(w)})};m(n.scene),c.value=new e.AnimationMixer(n.scene);const p=c.value.clipAction(n.animations.find(r=>r.name==="Walking"));p.clampWhenFinished=!0,p.reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(.5).play(),s.add(n.scene)},u=({scene:t,THREE:e,clockTime:a})=>{var o,s;(s=(o=c.value)==null?void 0:o.update)==null||s.call(o,a)},x=({camera:t},e)=>{const a=e.gui.addFolder("相机");return a.add(t,"x",1,100).step(.01),a.add(t,"y",1,1e3).step(.01),a.add(t,"z",1,1e3).step(.01),()=>{e.camera.position.set(t.x,t.y,t.z)}};return(t,e)=>(y(),_("div",A,[z(l(E),{onLoad:f,onAnimation:u,onGui:x,near:.1,far:1e3,"initialization-data":l(i),"onUpdate:initializationData":e[0]||(e[0]=a=>T(i)?i.value=a:null),gui:!0,"plane-geometry":!0},{panel:R(()=>[F(G(l(i)),1)]),_:1},8,["near","initialization-data"])]))}});export{W as default};
