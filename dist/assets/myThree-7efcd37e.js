import h from"./BaseThree-7ffaa16c.js";import{d as v,r,o as _,c as w,m as T,p as y,u as l,i as z,h as F,t as b}from"./index-4b4c2310.js";const G="/assets/miaozidongmanti-regular-1b731fea.ttf",R="/assets/RobotExpressive-047f5e5f.glb",B={class:"three"},D=v({__name:"myThree",setup(S){const o=r({camera:{}}),d=r();r([]);const p=async a=>{const{THREE:t,camera:e,renderer:s,scene:i,controls:k}=a,{mesh:E}=a.addBoxGeometry("https://t7.baidu.com/it/u=4036010509,3445021118&fm=193&f=GIF");a.transformControls().attach(E),await a.downloadFonts(G,"aaa"),await a.addText("智加科技","aaa");const n=await a.addGLTFLoader(R);n.scene.position.set(300,0,0),n.scene.scale.set(50,50,50);const f=c=>{c.castShadow=!0,(c.children||[]).forEach(g=>{f(g)})};f(n.scene),d.value=new t.AnimationMixer(n.scene);const m=d.value.clipAction(n.animations.find(c=>c.name==="Walking"));m.clampWhenFinished=!0,m.reset().setEffectiveTimeScale(1).setEffectiveWeight(1).fadeIn(.5).play(),i.add(n.scene)},u=({scene:a,THREE:t,clockTime:e})=>{var s,i;(i=(s=d.value)==null?void 0:s.update)==null||i.call(s,e)},x=({camera:a},t)=>{const e=t.gui.addFolder("相机");return e.add(a,"x",1,1e3).step(.01),e.add(a,"y",1,1e3).step(.01),e.add(a,"z",1,1e3).step(.01),()=>{t.camera.position.set(a.x,a.y,a.z)}};return(a,t)=>(_(),w("div",B,[T(l(h),{onLoad:p,onAnimation:u,onGui:x,near:.1,far:1e3,"initialization-data":l(o),"onUpdate:initializationData":t[0]||(t[0]=e=>z(o)?o.value=e:null)},{panel:y(()=>[F(b(l(o)),1)]),_:1},8,["near","initialization-data"])]))}});export{D as default};
